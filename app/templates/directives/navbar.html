<nav class="navbar navbar-default app-navbar">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#"><img src="img/navbar-brand.png"></a>
    </div>
    <div class="collapse navbar-collapse">
      <div class="navbar-back" ng-class="{'hide-it': $root.navHistory.length===0}"><a ng-click="$root.goBack()" title="{{ 'GO_BACK' | __ }}"><i class="fa fa-chevron-circle-left"></i></a></div>
      <ul class="nav navbar-nav">
        <li class="dropdown filter-dropdown" ng-class="{'active': selectedSection==='filters' || selectedSection==='feed'}">
          <a ng-click="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
             aria-expanded="false">{{ selectedFilterName|translate }} <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li ng-class="{'active': selectedSection=='feed'}" ng-if="$root.user"><a ng-click="feedClicked()">{{ 'FEED' | translate }}</a></li>
            <li ng-repeat="c in filters" ng-class="{'active': ($root.selectedFilter===c.name && selectedSection!='feed')}" data-key="{{ c.key }}">
              <a ng-click="filterClicked(c.name)">{{ c.key|translate }}</a>
            </li>
          </ul>
        </li>
        <li ng-class="{'active': selectedSection==='discover'}"><a ng-click="discoverClicked()">{{ 'DISCOVER' | __ }}</a></li>
        <li ng-class="{'active': selectedSection==='token-exchange'}"><a ng-click="tokenExchangeClicked()">{{ 'TOKEN_EXCHANGE' | __ }}</a></li>
        <li ng-class="{'active': selectedSection==='market-place'}"><a ng-click="marketPlaceClicked()">{{ 'MARKETPLACE' | translate }}</a></li>
      </ul>
      <form class="navbar-form navbar-left">
        <div class="input-group">
          <input type="text" class="form-control txt-search" placeholder="Search for..." ng-model="searchStr" ng-keyup="$event.keyCode == 13 ? searchButtonClicked() : null">
          <span class="input-group-btn">
            <button class="btn btn-default btn-search" type="button" ng-disabled="!searchStr || fetchingSearch" ng-click="searchButtonClicked()">
              <i class="fa fa-search" ng-if="!fetchingSearch"></i>
                 <i class="fa fa-spin fa-spinner fa-circle-o-notch" ng-if="fetchingSearch"></i>
            </button>
          </span>
        </div>
      </form>
      <ul class="nav navbar-nav navbar-right">
        <li class="settings"><a ng-click="openSettings()" title="{{ 'SETTINGS' | translate }}"><i class="fa fa-cog"></i></a></li>
        <li class="editor"><a ng-click="editorClicked()"><i class="fa fa-pencil"></i></a></li>
        <li class="login" ng-if="!$root.user"><a ng-click="openLogin()" title="{{ 'LOGIN' | translate }}"><i class="fa fa-sign-in"></i></a></li>
        <li ng-if="$root.user" class="dropdown user-dropdown">
          <a ng-click="" class="dropdown-toggle" data-toggle="dropdown" role="button">
            <span class="profile-pic" author-bg-img-style author="{{ $root.user.username }}"></span>
          </a>
          <ul class="dropdown-menu">
            <li><a ng-click="profileClicked()">{{ 'PROFILE' | translate }}</a></li>
            <li><a ng-click="walletClicked()">{{ 'WALLET' | translate }}</a></li>
            <li><a ng-click="" login-required required-keys="'active'" on-login-success="transferClicked">{{ 'TRANSFER' | translate }}</a></li>
            <li><a ng-click="" login-required required-keys="'active'" on-login-success="escrowClicked">{{ 'ESCROW' | translate }}</a></li>
            <li><a ng-click="bookmarksClicked()">{{ 'BOOKMARKS' | translate }}</a></li>
            <li><a ng-click="draftsClicked()">{{ 'DRAFTS' | translate }}</a></li>
            <li><a ng-click="schedulesClicked()">{{ 'SCHEDULES' | translate }}</a></li>
            <li><a ng-click="galleryClicked()">{{ 'GALLERY' | translate }}</a></li>
            <li><a ng-click="openLogin()">{{ 'LOGIN_AS' | __ }}</a></li>
            <li data-key="LOGOUT"><a ng-click="logout()">{{ 'LOGOUT' | translate }}</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
